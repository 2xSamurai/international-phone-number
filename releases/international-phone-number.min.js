/*! international-phone-number 2015-04-18 */
(function(){"use strict";angular.module("internationalPhoneNumber",[]).directive("internationalPhoneNumber",function(){return{restrict:"A",require:"^ngModel",scope:{ngModel:"=",defaultCountry:"@"},link:function(a,b,c,d){var e,f,g,h;return g=function(){return d.$setViewValue(b.val())},e=function(a){return a instanceof Array?a:a.toString().replace(/[ ]/g,"").split(",")},f={autoFormat:!0,autoHideDialCode:!0,defaultCountry:"",nationalMode:!1,numberType:"",onlyCountries:void 0,preferredCountries:["us","gb"],responsiveDropdown:!1,utilsScript:""},angular.forEach(f,function(a,b){var d;if(c.hasOwnProperty(b)&&angular.isDefined(c[b]))return d=c[b],"preferredCountries"===b?f.preferredCountries=e(d):"onlyCountries"===b?f.onlyCountries=e(d):"boolean"==typeof a?f[b]="true"===d:f[b]=d}),h=a.$watch("ngModel",function(d){return a.$$postDigest(function(){return f.defaultCountry=a.defaultCountry,null!==d&&void 0!==d&&""!==d&&b.val(d),b.intlTelInput(f),void 0!==c.skipUtilScriptDownload||f.utilsScript||b.intlTelInput("loadUtils","/bower_components/intl-tel-input/lib/libphonenumber/build/utils.js"),h()})}),d.$formatters.push(function(a){return b.intlTelInput("setNumber",a),b.val}),d.$parsers.push(function(a){return a?a.replace(/[^\d]/g,""):a}),d.$parsers.push(function(a){var c;return a?(c=b.intlTelInput("isValidNumber"),d.$setValidity("international-phone-number",c),d.$setValidity("",c)):(a="",delete d.$error["international-phone-number"]),a}),b.on("blur keyup change",function(b){return a.$apply(g)}),b.on("$destroy",function(){return b.off("blur keyup change")})}}})}).call(this);